<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f0f4f8;
      color: #333;
    }
    header {
      background: #1e90ff;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 1.8em;
      font-weight: bold;
    }
    .container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      padding: 20px;
    }
    .card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      padding: 20px;
    }
    .card h2 {
      margin-top: 0;
      font-size: 1.2em;
      border-bottom: 1px solid #eee;
      padding-bottom: 8px;
      color: #1e90ff;
    }
    #cityForm {
      text-align: center;
      margin: 20px;
    }
    #cityInput {
      padding: 8px;
      width: 200px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      background: #1e90ff;
      color: white;
      cursor: pointer;
      margin-left: 8px;
    }
    button:hover {
      background: #0066cc;
    }
    .forecast-grid {
      display: flex;
      gap: 10px;
      overflow-x: auto;
    }
    .forecast-day {
      flex: 0 0 100px;
      text-align: center;
      background: #f9f9f9;
      border-radius: 8px;
      padding: 10px;
    }
    .hourly-grid {
      display: flex;
      gap: 10px;
      overflow-x: auto;
    }
    .hour {
      flex: 0 0 80px;
      text-align: center;
      background: #f9f9f9;
      border-radius: 8px;
      padding: 8px;
    }
  </style>
</head>
<body>
  <header>üå§Ô∏è Weather Dashboard</header>

  <div id="cityForm">
    <input type="text" id="cityInput" placeholder="Enter city (e.g., Miami)">
    <button onclick="getWeather()">Search</button>
  </div>

  <div class="container">
    <!-- Left Column -->
    <div>
      <div class="card" id="currentWeather">
        <h2>Current Weather</h2>
        <p>Loading...</p>
      </div>
      <div class="card" id="hourlyForecast">
        <h2>Hourly Forecast</h2>
        <div class="hourly-grid" id="hourlyGrid"></div>
      </div>
      <div class="card" id="sunTimes">
        <h2>Sunrise & Sunset</h2>
        <p>Loading...</p>
      </div>
    </div>

    <!-- Right Column -->
    <div>
      <div class="card" id="fiveDayForecast">
        <h2>5-Day Forecast</h2>
        <div class="forecast-grid" id="forecastGrid"></div>
      </div>
      <div class="card" id="alerts">
        <h2>Weather Alerts</h2>
        <p>No alerts.</p>
      </div>
      <div class="card" id="aqi">
        <h2>Air Quality Index</h2>
        <p>Loading...</p>
      </div>
      <div class="card" id="uvIndex">
        <h2>UV Index</h2>
        <p>Loading...</p>
      </div>
      <div class="card" id="recommendations">
        <h2>Recommendations</h2>
        <p>Loading...</p>
      </div>
    </div>
  </div>

  <script>
    const apiKey = "YOUR_API_KEY"; // üîë Replace with OpenWeatherMap API key
    let defaultCity = "Boca Raton";

    async function getWeather(city = defaultCity) {
      const weatherRes = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=imperial&appid=${apiKey}`);
      const weatherData = await weatherRes.json();

      document.getElementById("currentWeather").innerHTML = `
        <h2>Current Weather - ${weatherData.name}</h2>
        <p>üå°Ô∏è Temp: ${weatherData.main.temp}¬∞F</p>
        <p>‚òÅÔ∏è Condition: ${weatherData.weather[0].description}</p>
        <p>üí® Wind: ${weatherData.wind.speed} mph</p>
        <p>üíß Humidity: ${weatherData.main.humidity}%</p>
      `;

      document.getElementById("sunTimes").innerHTML = `
        <h2>Sunrise & Sunset</h2>
        <p>üåÖ Sunrise: ${new Date(weatherData.sys.sunrise * 1000).toLocaleTimeString()}</p>
        <p>üåá Sunset: ${new Date(weatherData.sys.sunset * 1000).toLocaleTimeString()}</p>
      `;

      // Fetch 5-day forecast
      const forecastRes = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&units=imperial&appid=${apiKey}`);
      const forecastData = await forecastRes.json();

      const forecastGrid = document.getElementById("forecastGrid");
      forecastGrid.innerHTML = "";
      for (let i = 0; i < forecastData.list.length; i += 8) {
        const day = forecastData.list[i];
        forecastGrid.innerHTML += `
          <div class="forecast-day">
            <p>${new Date(day.dt * 1000).toLocaleDateString()}</p>
            <p>üå°Ô∏è ${day.main.temp}¬∞F</p>
            <p>${day.weather[0].main}</p>
          </div>
        `;
      }

      // Hourly forecast (first 12 hours)
      const hourlyGrid = document.getElementById("hourlyGrid");
      hourlyGrid.innerHTML = "";
      for (let i = 0; i < 12; i++) {
        const hour = forecastData.list[i];
        hourlyGrid.innerHTML += `
          <div class="hour">
            <p>${new Date(hour.dt * 1000).getHours()}:00</p>
            <p>${hour.main.temp}¬∞F</p>
            <p>${hour.weather[0].main}</p>
          </div>
        `;
      }

      // Air Quality Index (requires coordinates)
      const { lon, lat } = weatherData.coord;
      const airRes = await fetch(`https://api.openweathermap.org/data/2.5/air_pollution?lat=${lat}&lon=${lon}&appid=${apiKey}`);
      const airData = await airRes.json();
      const aqiVal = airData.list[0].main.aqi;
      const aqiLevels = ["Good", "Fair", "Moderate", "Poor", "Very Poor"];
      document.getElementById("aqi").innerHTML = `
        <h2>Air Quality Index</h2>
        <p>${aqiVal} - ${aqiLevels[aqiVal - 1]}</p>
      `;

      // UV Index
      const uvRes = await fetch(`https://api.openweathermap.org/data/2.5/uvi?lat=${lat}&lon=${lon}&appid=${apiKey}`);
      const uvData = await uvRes.json();
      document.getElementById("uvIndex").innerHTML = `
        <h2>UV Index</h2>
        <p>${uvData.value}</p>
      `;

      // Recommendations
      let rec = "Enjoy your day!";
      if (weatherData.weather[0].main.includes("Rain")) rec = "‚òî Don‚Äôt forget an umbrella!";
      else if (uvData.value > 7) rec = "üß¥ High UV! Wear sunscreen.";
      else if (aqiVal >= 4) rec = "üò∑ Air quality is bad, limit outdoor activities.";
      document.getElementById("recommendations").innerHTML = `
        <h2>Recommendations</h2>
        <p>${rec}</p>
      `;
    }

    getWeather();
  </script>
</body>
</html>
